<div class="design-upload">
  <div class="upload-content">
    <nz-upload
      nzType="drag"
      [nzBeforeUpload]="beforeUpload"
      [nzMultiple]="true"
      [nzFileList]="fileList"
      (nzChange)="handleChange($event)"
      [nzFileListRender]="fileListRender"
    >
      <p class="ant-upload-drag-icon">
        <nz-icon nzType="inbox" />
      </p>
      <p class="ant-upload-text">点击或将文件拖拽到此区域上传</p>
      <p class="ant-upload-hint">
        支持单个或批量上传。 <br />
        严禁上传公司数据或其他受限文件。<br />
        最大单个文件大小为 50MB。 <br />
        最大文件数量为 100 个，超出请分批上传。 <br />
        支持的文件类型包括：.zip、.jpeg、.png、.gif、.html、.txt、.md、.pdf
        等。<br />
      </p>
    </nz-upload>
    <ng-template #fileListRender> </ng-template>
  </div>
  <div class="file-list" *ngIf="fileList.length > 0">
    <div class="item" *ngFor="let file of fileList">
      <nz-tag [nzColor]="file.status === 'uploading' ? 'blue' : 'green'">
        {{ file.status === 'uploading' ? '添加中' : '已准备' }}
      </nz-tag>
      <div class="file-info">
        <div class="file-name">{{ file.name }}</div>
        <div class="file-size">{{ file.size }}</div>
      </div>
    </div>
  </div>
  <div class="actions">
    <button
      nz-button
      nzType="primary"
      (click)="handleUpload()"
      [disabled]="fileList.length === 0"
    >
      <nz-icon nzType="upload" />
      开始上传
    </button>
    <button nz-button (click)="handleReset()">
      <nz-icon nzType="close" />
      清空列表
    </button>
  </div>
</div>
